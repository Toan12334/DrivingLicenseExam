<Window x:Class="DrivingLicenseExam.Views.FormExamWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:conv="clr-namespace:DrivingLicenseExam.Converters"
        Title="Exam"
        Height="400"
        Width="600">

    <!-- CONVERTER -->
    <Window.Resources>
        <conv:EnumToBoolConverter x:Key="EnumConverter"/>
    </Window.Resources>

    <Grid Margin="20" Background="Aqua">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- CÂU HỎI + TIMER -->
        <Grid Grid.Row="0" Margin="0,0,0,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- CÂU HỎI -->
            <TextBlock Grid.Column="0"
                       Text="{Binding CurrentQuestion.content}"
                       FontSize="18"
                       FontWeight="Bold"
                       TextWrapping="Wrap"
                       Margin="0,0,20,0"/>

            <!-- THỜI GIAN -->
            <Border Grid.Column="1"
                    Background="#1E90FF"
                    Padding="12,6"
                    CornerRadius="6">
                <TextBlock Text="{Binding TimeRemaining}"
                           Foreground="White"
                           FontSize="16"
                           FontWeight="Bold"/>
            </Border>
        </Grid>

        <!-- ĐÁP ÁN -->
        <StackPanel Grid.Row="1">
            <RadioButton Content="{Binding CurrentQuestion.anSwerA}"
                         GroupName="Answers"
                         Margin="0,5"
                         IsChecked="{Binding CurrentQuestion.SelectedAnswer,
                                     Mode=TwoWay,
                                     Converter={StaticResource EnumConverter},
                                     ConverterParameter=A}"/>

            <RadioButton Content="{Binding CurrentQuestion.anSwerB}"
                         GroupName="Answers"
                         Margin="0,5"
                         IsChecked="{Binding CurrentQuestion.SelectedAnswer,
                                     Mode=TwoWay,
                                     Converter={StaticResource EnumConverter},
                                     ConverterParameter=B}"/>

            <RadioButton Content="{Binding CurrentQuestion.anSwerC}"
                         GroupName="Answers"
                         Margin="0,5"
                         IsChecked="{Binding CurrentQuestion.SelectedAnswer,
                                     Mode=TwoWay,
                                     Converter={StaticResource EnumConverter},
                                     ConverterParameter=C}"/>

            <RadioButton Content="{Binding CurrentQuestion.anSwerD}"
                         GroupName="Answers"
                         Margin="0,5"
                         IsChecked="{Binding CurrentQuestion.SelectedAnswer,
                                     Mode=TwoWay,
                                     Converter={StaticResource EnumConverter},
                                     ConverterParameter=D}"/>
        </StackPanel>

        <!-- BUTTON -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Margin="0,20,0,0">

            <Button Content="Previous"
                    Command="{Binding PreviousCommand}"
                    Width="100"
                    Margin="10"/>

            <Button Content="Next"
                    Command="{Binding NextCommand}"
                    Width="100"
                    Margin="10"/>

            <Button Content="Submit"
                    Command="{Binding SubmitCommand}"
                    Width="120"
                    Margin="10"
                    Background="#2E8B57"
                    Foreground="White"
                    FontWeight="Bold"/>
        </StackPanel>
    </Grid>
</Window>
