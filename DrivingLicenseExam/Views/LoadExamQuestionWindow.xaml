<Window x:Class="DrivingLicenseExam.Views.LoadExamQuestionWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Quản lý câu hỏi"
        Height="520"
        Width="1100">

    <Grid Margin="8">
        <!-- ROW -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- TOOLBAR -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
            <Button Content="Thêm"
                    Width="80"
                    Margin="0,0,8,0"
                    Command="{Binding AddCommand}"/>

            <Button Content="Lưu"
                    Width="80"
                    Margin="0,0,8,0"
                    Command="{Binding SaveCommand}"/>

            <Button Content="Xóa"
                    Width="80"
                    Command="{Binding DeleteCommand}"/>

            <Button Content="Hủy"
                    Width="80"
                    Margin="8,0,0,0"
                    Command="{Binding CancelCommand}"/>
        </StackPanel>

        <!-- MAIN CONTENT -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>

            <!-- ================= LEFT : DATAGRID ================= -->
            <DataGrid Grid.Column="0"
                      ItemsSource="{Binding Questions}"
                      SelectedItem="{Binding SelectedQuestion,Mode=TwoWay}"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      Margin="0,0,8,0">

                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID"
                                        Binding="{Binding questionId}"
                                        Width="60"/>

                    <DataGridTextColumn Header="Nội dung"
                                        Binding="{Binding content}"
                                        Width="2*"/>

                    <DataGridTextColumn Header="A"
                                        Binding="{Binding anSwerA}"
                                        Width="*"/>

                    <DataGridTextColumn Header="B"
                                        Binding="{Binding anSwerB}"
                                        Width="*"/>

                    <DataGridTextColumn Header="C"
                                        Binding="{Binding anSwerC}"
                                        Width="*"/>

                    <DataGridTextColumn Header="D"
                                        Binding="{Binding anSwerD}"
                                        Width="*"/>

                    <DataGridTextColumn Header="Đáp án"
                                        Binding="{Binding correctAnswer}"
                                        Width="80"/>

                    <DataGridCheckBoxColumn Header="Critical"
                                            Binding="{Binding isCritical, Mode=TwoWay}"
                                            IsReadOnly="True"
                                            Width="80"/>
                </DataGrid.Columns>
            </DataGrid>

            <!-- ================= RIGHT : FORM ================= -->
            <Border Grid.Column="1"
                    Padding="12"
                    BorderThickness="1"
                    BorderBrush="#DDD"
                    CornerRadius="6">

                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>

                        <TextBlock Text="THÔNG TIN CÂU HỎI"
                                   FontWeight="Bold"
                                   FontSize="14"
                                   Margin="0,0,0,12"/>

                        <TextBlock Text="Nội dung"/>
                        <TextBox Text="{Binding SelectedQuestion.content, UpdateSourceTrigger=PropertyChanged}"
                                 Height="60"
                                 TextWrapping="Wrap"
                                 AcceptsReturn="True"
                                 Margin="0,0,0,8"/>

                        <TextBlock Text="Đáp án A"/>
                        <TextBox Text="{Binding SelectedQuestion.anSwerA}" Margin="0,0,0,6"/>

                        <TextBlock Text="Đáp án B"/>
                        <TextBox Text="{Binding SelectedQuestion.anSwerB}" Margin="0,0,0,6"/>

                        <TextBlock Text="Đáp án C"/>
                        <TextBox Text="{Binding SelectedQuestion.anSwerC}" Margin="0,0,0,6"/>

                        <TextBlock Text="Đáp án D"/>
                        <TextBox Text="{Binding SelectedQuestion.anSwerD}" Margin="0,0,0,8"/>

                        <TextBlock Text="Đáp án đúng"/>
                        <TextBox Text="{Binding SelectedQuestion.correctAnswer}"
                                  Margin="0,0,0,8"/>

                        <CheckBox Content="Câu điểm liệt"
                                  IsChecked="{Binding SelectedQuestion.isCritical}"
                                  Margin="0,4,0,0"/>

                    </StackPanel>
                </ScrollViewer>
            </Border>
        </Grid>
    </Grid>
</Window>
